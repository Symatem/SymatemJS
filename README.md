# Symatem JS & WebAssembly API

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [manifestSymbol](#manifestsymbol)
-   [createSymbol](#createsymbol)
-   [releaseSymbol](#releasesymbol)
-   [getLength](#getlength)
-   [decreaseLength](#decreaselength)
-   [increaseLength](#increaselength)
-   [readData](#readdata)
-   [writeData](#writedata)
-   [setTriple](#settriple)
-   [queryTriples](#querytriples)
-   [Symbol](#symbol)
-   [Triple](#triple)
-   [initBasicOntology](#initbasicontology)
-   [decodeBinary](#decodebinary)
-   [encodeBinary](#encodebinary)
-   [getData](#getdata)
-   [setData](#setdata)
-   [getRawData](#getrawdata)
-   [setRawData](#setrawdata)
-   [setLength](#setlength)
-   [unlinkSymbol](#unlinksymbol)
-   [getTriple](#gettriple)
-   [setSolitary](#setsolitary)
-   [getSolitary](#getsolitary)
-   [encodeJson](#encodejson)
-   [decodeJson](#decodejson)
-   [downloadAsFile](#downloadasfile)
-   [utf8ArrayToText](#utf8arraytotext)
-   [textToUtf8Array](#texttoutf8array)
-   [encodeText](#encodetext)
-   [decodeText](#decodetext)
-   [concatIntoSymbol](#concatintosymbol)
-   [symbolInNamespace](#symbolinnamespace)
-   [namespaceOfSymbol](#namespaceofsymbol)
-   [identityOfSymbol](#identityofsymbol)

### manifestSymbol

Reserves the identity of a symbol in its namespace

**Parameters**

-   `symbol` **[Symbol](#symbol)** 

Returns **[Symbol](#symbol)** symbol

### createSymbol

Creates a new symbol

**Parameters**

-   `namespaceIdentity` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Identity of the namespace to create the symbol in

Returns **[Symbol](#symbol)** symbol

### releaseSymbol

Releases the identity of a symbol in its namespace

**Parameters**

-   `symbol` **[Symbol](#symbol)** 

### getLength

Returns the length of the symbols virtual space

**Parameters**

-   `symbol` **[Symbol](#symbol)** 

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** length in bits

### decreaseLength

Erases a slice of a symbols virtual space at the given offset and with the given length

**Parameters**

-   `symbol` **[Symbol](#symbol)** 
-   `offset` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits
-   `length` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits

### increaseLength

Inserts a slice of a symbols virtual space at the given offset and with the given length

**Parameters**

-   `symbol` **[Symbol](#symbol)** 
-   `offset` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits
-   `length` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits

### readData

Returns a slice of data starting at the given offset and with the given length

**Parameters**

-   `symbol` **[Symbol](#symbol)** 
-   `offset` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits
-   `length` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits

Returns **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** dataSlice Do not modify the return value as it might be used internally

### writeData

Replaces a slice of data starting at the given offset and with the given length by dataBytes

**Parameters**

-   `symbol` **[Symbol](#symbol)** 
-   `offset` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits
-   `length` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits
-   `dataBytes` **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

### setTriple

Links or unlinks a triple

**Parameters**

-   `triple` **[Triple](#triple)** 
-   `linked` **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** success Returns false if no changes were made

### queryTriples

Yields all matching triples according to the given triple and mask. The final .next() returns the count of matches

**Parameters**

-   `mask` **QueryMask** 
-   `triple` **[Triple](#triple)** 

Returns **[Triple](#triple)** iterator of matches

### Symbol

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

**Properties**

-   `namespaceIdentity` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
-   `identity` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### Triple

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

**Properties**

-   `entity` **[Symbol](#symbol)** 
-   `attribute` **[Symbol](#symbol)** 
-   `value` **[Symbol](#symbol)** 

### initBasicOntology

Fills the ontology with the predefined symbols

### decodeBinary

Converts bits to JS native data types using the given encoding

**Parameters**

-   `encoding` **[Symbol](#symbol)** 
-   `dataBytes` **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 
-   `feedback` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Used to control the length (input and output)
    -   `feedback.length` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** dataValue

### encodeBinary

Converts JS native data types to bits using the given encoding

**Parameters**

-   `encoding` **[Symbol](#symbol)** 
-   `dataValue` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

Returns **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** dataBytes

### getData

Returns a symbols entire data converted to JS native data types

**Parameters**

-   `symbol` **[Symbol](#symbol)** 
-   `dataBytes` **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** dataValue

### setData

Replaces the symbols entire data by JS native data types

**Parameters**

-   `symbol` **[Symbol](#symbol)** 
-   `dataValue` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

Returns **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** dataBytes

### getRawData

Returns the entire data of a symbol

**Parameters**

-   `symbol` **[Symbol](#symbol)** 

Returns **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** dataBytes

### setRawData

Replaces the entire data of a symbol

**Parameters**

-   `symbol` **[Symbol](#symbol)** 
-   `dataBytes` **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

### setLength

Increases or deceases the length of a symbols virtual space at the end

**Parameters**

-   `symbol` **[Symbol](#symbol)** 
-   `newLength` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** in bits

### unlinkSymbol

Unlinks all triples of a symbol and releases it

**Parameters**

-   `symbol` **[Symbol](#symbol)** 

### getTriple

Tests if the given Triple exists

**Parameters**

-   `triple` **[Triple](#triple)** 

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** linked

### setSolitary

Does the same as setTriple (linked = true) but also unlinks all triples with different values and returns nothing

**Parameters**

-   `triple` **[Triple](#triple)** 

### getSolitary

Returns the value if exactly one triple matches with the given entity-attribute-pair

**Parameters**

-   `entity` **[Symbol](#symbol)** 
-   `attribute` **[Symbol](#symbol)** 

Returns **[Symbol](#symbol)** value or Void

### encodeJson

Stores the ontology as JSON LTS format

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** json

### decodeJson

Loads the ontology from JSON LTS format

**Parameters**

-   `json` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### downloadAsFile

Saves dataBytes as download file in browsers

**Parameters**

-   `dataBytes` **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 
-   `fileName` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### utf8ArrayToText

Converts UTF8 encoded Uint8Array to text

**Parameters**

-   `utf8` **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** 

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** text

### textToUtf8Array

Converts text to UTF8 encoded Uint8Array

**Parameters**

-   `text` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Uint8Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array)** utf8

### encodeText

Converts JS native data types to text

**Parameters**

-   `dataValue` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** text

### decodeText

Converts text to JS native data types

**Parameters**

-   `text` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** dataValue

### concatIntoSymbol

Concats namespaceIdentity and identity into a symbol

**Parameters**

-   `namespaceIdentity` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
-   `identity` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Symbol](#symbol)** symbol

### symbolInNamespace

Same as concatIntoSymbol but resolves the namespaceIdentity by name

**Parameters**

-   `namespaceName` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
-   `identity` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Symbol](#symbol)** symbol

### namespaceOfSymbol

Extracts the namespaceIdentity of a symbol

**Parameters**

-   `symbol` **[Symbol](#symbol)** 

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** namespaceIdentity

### identityOfSymbol

Extracts the identity of a symbol

**Parameters**

-   `symbol` **[Symbol](#symbol)** 

Returns **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** identity

## QueryMask

The mask is a 3-tuple itself and each position matches one position of the triple using the three possible mask-states:

-   Match: You are looking for triples which match the given triple at this position exactly.
-   Varying: You are looking for all possible combinations and the given triple is ignored at this position.
-   Ignore: You don't care about this position and the given triple is ignored at this position.

So three possible mask-states powered by three positions are 27 possible masks and questions to ask:

-   MMM: Does the given triple exist?
-   VVV: Which triples exist?
-   III: (only for completeness)
-   MII: Is there at least one occurrence of the given entity?
-   IMI: Is there at least one occurrence of the given attribute?
-   IIM: Is there at least one occurrence of the given value?
-   IMM: Is there at least one entity with the given attribute-value-pair?
-   MIM: Is there at least one attribute with the given entity-value-pair?
-   MMI: Is there at least one value with the given entity-attribute-pair?
-   VMM: Which entities has the given attribute-value-pair?
-   MVM: Which attributes has the given entity-value-pair?
-   MMV: Which values has the given entity-attribute-pair?
-   MVV: Which attribute-value pairs has the given entity?
-   VMV: Which entity-value pairs has the given attribute?
-   VVM: Which entity-attribute pairs has the given value?
-   IVM: Which attributes has the given value?
-   VIM: Which entities has the given value?
-   IMV: Which values has the given attribute?
-   MIV: Which values has the given entity?
-   VMI: Which entities has the given attribute?
-   MVI: Which attributes has the given entity?
-   IVV: Which attribute-value pairs exist?
-   VIV: Which entity-value pairs exist?
-   VVI: Which entity-attribute pairs exist?
-   VII: Which entities exist?
-   IVI: Which attributes exist?
-   IIV: Which values exist?

They are accessed by BasicBackend.queryMask.MMM for example.
Positions of the triple which are not masked by Match but by Varying or by Ignore should be set to BasicBackend.symbolByName.Void.
